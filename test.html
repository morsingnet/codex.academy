<html>
  <head>
    <title>
      Example of how to use Climb's API to pre-populate their application form
    </title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
      integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ"
      crossorigin="anonymous"
    />
    <link
      href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-+ENW/yibaokMnme+vBLnHMphUYxHs34h9lpdbSLuAwGkOKFRl4C34WkjazBtb7eT"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
      integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
      integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
      crossorigin="anonymous"
    ></script>
    <nav class="navbar navbar-toggleable-md navbar-inverse">
      <button
        class="navbar-toggler navbar-toggler-right"
        type="button"
        data-toggle="collapse"
        data-target="#navbarNav"
        aria-controls="navbarNav"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#">
        <span
          ><img src="//i.imgur.com/H5zY5PE.png" style="height: 100%;"
        /></span>
        Demo Academy
      </a>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="#"
              >Home<span class="sr-only">(current)</span></a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              >Students<span class="sr-only">(current)</span></a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#"
              >About<span class="sr-only">(current)</span></a
            >
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-12 col-lg-8 col-lg-offset-2">
          <form class="form">
            <div class="row">
              <div class="col-md-6 form-group">
                <label>First Name: </label>
                <input
                  class="form-control"
                  classtype="text"
                  id="firstName"
                  value="John"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Last Name: </label>
                <input
                  class="form-control"
                  type="text"
                  id="lastName"
                  value="Appleseed"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Student ID: </label>
                <input
                  class="form-control"
                  type="text"
                  id="studentId"
                  value="19470815"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Email: </label>
                <input
                  class="form-control"
                  type="text"
                  id="email"
                  value="test@climbcredit.com"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Date of Birth: </label>
                <input class="form-control" id="dob" placeholder="YYYY-MM-DD" />
              </div>
              <div class="col-md-6 form-group">
                <label>Annual Income: </label>
                <input
                  class="form-control"
                  id="annualIncome"
                  type="number"
                  placeholder="Enter a number"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Finance amount: </label>
                <input
                  class="form-control"
                  type="number"
                  id="financeAmt_tuition"
                  value="8370"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>Is Existing Student: </label>
                <input
                  class="form-control"
                  type="checkbox"
                  id="isExistingStudent"
                  value="false"
                />
              </div>
            </div>
            <!-- Date fields coming soon -->
            <div class="row" style="display:none;">
              <div class="col-md-6 form-group">
                <label>Start date: </label>
                <input
                  class="form-control"
                  type="text"
                  id="programDate"
                  placeholder="YYYY-MM-DD"
                />
              </div>
              <div class="col-md-6 form-group">
                <label>End date: </label>
                <input
                  class="form-control"
                  type="text"
                  id="programEndDate"
                  placeholder="YYYY-MM-DD"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Phone: </label>
                <input
                  class="form-control"
                  type="text"
                  id="phone"
                  placeholder="###-###-####"
                  value="6156698239"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-8 form-group">
                <label>Street Address: </label>
                <input
                  class="form-control"
                  type="text"
                  id="addressStreet"
                  placeholder="1964 MLK Drive"
                />
              </div>
              <div class="col-md-4 form-group">
                <label>Apartment, Suite, Floor #: </label>
                <input
                  class="form-control"
                  type="text"
                  id="addressApt"
                  placeholder="Apt/Floor/House Number"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 form-group">
                <label>City: </label>
                <input
                  class="form-control"
                  type="text"
                  id="addressCity"
                  placeholder="City"
                />
              </div>
              <div class="col-md-4 form-group">
                <label>State: </label>
                <input
                  class="form-control"
                  type="text"
                  id="addressState"
                  placeholder="State"
                />
              </div>
              <div class="col-md-4 form-group">
                <label>Zip: </label>
                <input
                  class="form-control"
                  type="text"
                  id="addressZip"
                  placeholder="Zip"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Highest Education Level Reached: </label>
                <select
                  class="form-control"
                  id="highestEducationLevel"
                  placeholder="Choose one"
                  size="1"
                >
                  <option value="Some High School">Some High School</option>
                  <option value="High School Diploma or Equivalent">
                    High School Diploma or Equivalent
                  </option>
                  <option value="Some College">Some College</option>
                  <option value="Associate's Degree">Associate's Degree</option>
                  <option value="Bachelor's Degree">Bachelor's Degree</option>
                  <option value="Master's Degree">Master's Degree</option>
                  <option value="Doctoral Degree">Doctoral Degree</option>
                  <option value="Prefer Not To Say">Prefer Not to Say</option>
                </select>
              </div>
              <div class="col-md-6 form-group">
                <label>Current Employment Status: </label>
                <select
                  class="form-control"
                  id="currentEmploymentStatus"
                  placeholder="Choose one"
                >
                  <option value="Full-time">"Full-time"</option>
                  <option value="Part-time">"Part-time"</option>
                  <option value="Self-employed/Freelance"
                    >"Self-employed/Freelance"
                  </option>
                  <option value="Unemployed">"Unemployed"</option>
                  <option value="Student">"Student"</option>
                  <option value="Prefer Not to Say">"Prefer Not to Say"</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 form-group">
                <label>Gender: </label>
                <select
                  class="form-control"
                  id="gender"
                  placeholder="Choose one"
                >
                  <option value="Male">Male</option>
                  <option value="Female">Female</option>
                  <option value="Other / Prefer not to answer"
                    >Other / Prefer not to answer
                  </option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 form-group">
                <label>Note: </label>
                <input
                  class="form-control"
                  id="note"
                  type="text"
                  maxlength="3000"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <input
                  class="form-control btn btn-default"
                  type="button"
                  id="goButton"
                  value="Apply to school"
                />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <br />
                <br />
                <input
                  class="form-control btn btn-success"
                  type="button"
                  disabled="disabled"
                  id="linkButton"
                  value="Apply to Climb"
                />
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <hr />

    <div class="container">
      <div class="row">
        <div class="col-md-12 col-lg-8 col-lg-offset-2">
          <button
            class="btn btn-primary"
            type="button"
            data-toggle="collapse"
            data-target="#demo-collapse"
            aria-expanded="false"
            aria-controls="demo-collapse"
          >
            See sample code
          </button>
          <br />
        </div>
      </div>
    </div>
    <div class="container collapse" id="demo-collapse">
      <div class="row">
        <div class="col-md-12 col-lg-8 col-lg-offset-2">
          <b>Demo code</b>
        </div>
        <div class="col-md-12 col-lg-8 col-lg-offset-2">
          <pre id="demo"></pre>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      const MY_SCHOOL_ID = "CO0397775611321"; // enter your school ID here

      function sendToClimb() {
        var url = "https://climbcredit.com/api/pre-populate";
        var payload = {
          schoolId: MY_SCHOOL_ID, //required
          firstName: $("#firstName").val(), //optional
          lastName: $("#lastName").val(), //optional
          dob: $("#dob").val(), //optional
          annualIncome: $("#annualIncome").val(), //optional
          studentId: $("#studentId").val(), //optional
          email: $("#email").val(), //optional
          phone: $("#phone").val(), //optional
          financeAmt_tuition: $("#financeAmt_tuition").val(), //optional
          isExistingStudent: $("#isExistingStudent").val(), //optional
          // programDate: $("#programDate").val(), //optional, coming soon
          // programEndDate: $("#programEndDate").val(), //optional, coming soon
          addressStreet: $("#addressStreet").val(), //optional
          addressApt: $("#addressApt").val(), //optional
          addressCity: $("#addressCity").val(), //optional
          addressState: $("#addressState").val(), //optional
          addressZip: $("#addressZip").val(), //optional
          highestEducationLevel: $("#highestEducationLevel").val(), //optional
          currentEmploymentStatus: $("#currentEmploymentStatus").val(), //optional
          gender: $("#gender").val(), //optional
          note: $("#note").val() //optional -- this field is truncated to 3000 characters
        };

        $.ajax({
          type: "POST",
          url: url,
          data: payload,
          dataType: "json",
          success: function(result) {
            if (result.success) {
              // result comes back with a url to a pre-populated application

              $("#linkButton")
                .removeAttr("disabled")
                .on("click", () => window.open(result.url, "_blank"));
            } else {
              alert(result.message);
            }
          }
        });
      }

      $("#demo").html(sendToClimb.toString());
      $("#goButton").click(sendToClimb);
    </script>
  </body>
</html>
